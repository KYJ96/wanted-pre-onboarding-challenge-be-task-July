select~for update 쿼리를 실행한다. 
먼저 락을 구한 커넥션은 실행을 지속하고, 락을 구하지 못한 커넥션은 락을 구한 커넥션이 트랜잭션을 종료할 때까지 대기한다.
